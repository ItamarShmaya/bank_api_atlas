<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Acme&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Signika:wght@300&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles/index.css" />
    <title>Bank API</title>
  </head>
  <body>
    <div class="page-wrapper">
      <header>
        <img src="./assets/dollar-sign1.png" />
        <img src="./assets/dollar-sign1.png" />
        <h1>BANK API</h1>
        <img src="./assets/dollar-sign1.png" />
        <img src="./assets/dollar-sign1.png" />
      </header>
      <main>
        <h1 class="main-heading">Usage</h1>
        <h2>Base URL</h2>
        <p>
          <a href="https://sh-bank-app.herokuapp.com/api" target="_blank"
            >https://sh-bank-app.herokuapp.com/api</a
          >
        </p>
        <div class="methods">
          <h1>METHODS</h1>
          <ul>
            <a href="#GET">
              <li>GET</li>
            </a>
            <a href="#PATCH">
              <li>PATCH</li>
            </a>
            <a href="#POST">
              <li>POST</li>
            </a>
            <a href="#DELETE">
              <li>DELTE</li>
            </a>
          </ul>
        </div>
        <section id="GET">
          <h1>GET</h1>
          <div class="endpoint">
            <h2>get all users</h2>
            <h3>/users</h3>
            <h4>Access: Admin</h4>
            <h5>Returns:</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>[ 
  { 
    "_id": "ObjectId",
    "firstName": "string", 
    "lastName": "string", 
    "email": "string",
    "totalCash": number,
    "accounts": [
      {
        "account": "ObjectI
      }
    ] 
  } 
]</code></pre>
            </div>
          </div>
          <div class="endpoint">
            <h2>get users by search</h2>
            <h3>/users?minCash={}&maxCash={}&firstName={}&lastName={}</h3>
            <p>min => if specified set minimum cash</p>
            <p>max => if specified set maximum cash</p>
            <p>firstName => for firstName</p>
            <p>lastName => for lastName</p>
            <h4>Returns:</h4>
            <div>
              <!-- prettier-ignore -->
              <pre><code>[ 
  { 
    "_id": "ObjectId",
    "firstName": "string", 
    "lastName": "string", 
    "email": "string",
    "totalCash": number,
    "accounts": [
      {
        "account": "ObjectI
      }
    ] 
  } 
]</code></pre>
            </div>
          </div>
          <div class="endpoint">
            <h2>get all accounts</h2>
            <h3>/accounts</h3>
            <h4>Access: Admin</h4>
            <h5>Returns:</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>[ 
  { 
    "_id": "ObjectId",
    "cash": numebr, 
    "credit": number, 
    "isActive": boolean,
    "owners": [
      {
        owner: "ObjectId"
      }
    ] 
  } 
]</code></pre>
            </div>
          </div>
          <div class="endpoint">
            <h2>get user by id</h2>
            <h3>/users/{id}</h3>
            <h4>Access: Admin</h4>
            <h5>Returns:</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>[ 
  { 
    "_id": "ObjectId",
    "firstName": "string", 
    "lastName": "string",
    "email": "string", 
    "accounts": [
      {
        "account": "ObjectId"
      }
    ] 
  } 
]</code></pre>
            </div>
          </div>
          <div class="endpoint">
            <h2>get user by id full</h2>
            <h3>/users/{id}/full</h3>
            <h4>Access: Admin</h4>
            <h5>Returns:</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>[ 
  { 
    "_id": "ObjectId",
    "firstName": "string", 
    "lastName": "string",
    "email": "string", 
    "accounts": [
      {
        "_id": "ObjectId"
        "cash": number,
        "credit": number,
        "isActive": boolean,
        "ownersId": [
          {
            "owner": "ObjectId"
          }
        ]
      }
    ] 
  } 
]</code></pre>
            </div>
          </div>
          <div class="endpoint">
            <h2>get logged in user</h2>
            <h3>/users/me</h3>
            <h4>Access: Basic</h4>
            <h5>Returns:</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>[ 
  { 
    "_id": "ObjectId",
    "firstName": "string", 
    "lastName": "string",
    "email": "string", 
    "accounts": [
      {
        "account": "ObjectId"
      }
    ] 
  } 
]</code></pre>
            </div>
          </div>
          <div class="endpoint">
            <h2>get logged in user full</h2>
            <h3>/users/me/full</h3>
            <h4>Access: Basic</h4>
            <h5>Returns:</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>[ 
  { 
    "_id": "ObjectId",
    "firstName": "string", 
    "lastName": "string",
    "email": "string", 
    "accounts": [
      {
        "_id": "ObjectId"
        "cash": number,
        "credit": number,
        "isActive": boolean,
        "ownersId": [
          {
            "owner": "ObjectId"
          }
        ]
      }
    ] 
  } 
]</code></pre>
            </div>
          </div>
        </section>
        <section id="PATCH">
          <h1>PATCH</h1>
          <div class="endpoint">
            <h2>withdraw by user id</h2>
            <h3>/users/{id}/withdraw</h3>
            <h4>Access: Admin</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "accountId": "string",
  "amount": number
}</code></pre>
            </div>
            <p>Returns user's account</p>
          </div>
          <div class="endpoint">
            <h2>deposite by user id</h2>
            <h3>/users/{id}/deposite</h3>
            <h4>Access: Admin</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "accountId": "string",
  "amount": number
}</code></pre>
            </div>
            <p>Returns user's account</p>
          </div>
          <div class="endpoint">
            <h2>change credit by user id</h2>
            <h3>/users/{id}/credit</h3>
            <h4>Access: Admin</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "accountId": "string",
  "amount": number
}</code></pre>
            </div>
            <p>Returns user's account</p>
          </div>
          <div class="endpoint">
            <h2>transfer by user id</h2>
            <h3>/users/{id}/transfer</h3>
            <h4>Access: Admin</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "fromAccountId": "string",
  "amount": number,
  "toUserId": "string",
  "toAccountId": "string"
}</code></pre>
            </div>
            <p>Returns user's account</p>
          </div>
          <div class="endpoint">
            <h2>withdraw logged in user</h2>
            <h3>/users/me/withdraw</h3>
            <h4>Access: Basic</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "accountId": "string",
  "amount": number
}</code></pre>
            </div>
            <p>Returns user's account</p>
          </div>
          <div class="endpoint">
            <h2>deposite logged in user</h2>
            <h3>/users/me/deposite</h3>
            <h4>Access: Basic</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "accountId": "string",
  "amount": number
}</code></pre>
            </div>
            <p>Returns user's account</p>
          </div>
          <div class="endpoint">
            <h2>transfer logged in user</h2>
            <h3>/users/me/transfer</h3>
            <h4>Access: Basic</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "accountId": "string",
  "amount": number
}</code></pre>
            </div>
            <p>Returns user's account</p>
          </div>
          <div class="endpoint">
            <h2>add existing account to user</h2>
            <h3>/users/{id}/add-account</h3>
            <h4>Access: Admin</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "accountId": "string",
}</code></pre>
            </div>
            <p>Returns user</p>
          </div>
          <div class="endpoint">
            <h2>remove account from user</h2>
            <h3>/users/{id}/remove-account</h3>
            <h4>Access: Admin</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "accountId": "string",
}</code></pre>
            </div>
            <p>Returns user</p>
          </div>
        </section>
        <section id="POST">
          <h1>POST</h1>
          <div class="endpoint">
            <h2>register</h2>
            <h3>/users/register</h3>
            <h4>Access: All</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "email": "string",
  "firstName": "string",
  "lastName": "string",
  "password": "string"
}</code></pre>
              <p>accounts not required. defualts to an empty array</p>
              <!-- prettier-ignore -->
              <pre><code>"accounts": [
    {
      "account": "ObjectId"
    }
  ]
</code></pre>
            </div>
            <p>Returns user and token</p>
          </div>
          <div class="endpoint">
            <h2>create account</h2>
            <h3>/accounts</h3>
            <h4>Access: Admin</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "owners": [
    {
      "owner": "ObjectId"
    }
  ]
}</code></pre>
            </div>
            <p>owners: <b>required</b> only one owner at creation</p>
            <p>
              if field was not specified creating an account with default values
            </p>
            <p>cash: 0,</p>
            <p>credit: 0,</p>
            <p>isActive: true</p>
            <p>Returns created account</p>
          </div>
          <div class="endpoint">
            <h2>login</h2>
            <h3>/users/login</h3>
            <h4>Access: All</h4>
            <h5>required</h5>
            <div>
              <!-- prettier-ignore -->
              <pre><code>req.body: {
  "email": "string",
  "password": "string"
}</code></pre>
            </div>
          </div>
          <div class="endpoint">
            <h2>logout</h2>
            <h3>/users/logout</h3>
            <h4>Access: Basic</h4>
          </div>
          <hr />
          <div class="endpoint">
            <h2>logoutAll</h2>
            <h3>/users/logoutAll</h3>
            <h4>Access: Basic</h4>
          </div>
          <hr />
        </section>
        <section id="DELETE">
          <h1>DELETE</h1>
          <div class="endpoint">
            <h2>delete user</h2>
            <h3>/users/{id}</h3>
            <h4>Access: Admin</h4>
            <p>Returns deleted user</p>
          </div>
          <hr />
          <div class="endpoint">
            <h2>delete logged in user</h2>
            <h3>/users/me</h3>
            <h4>Access: Basic</h4>
            <p>Returns deleted user</p>
          </div>
          <hr />
          <div class="endpoint">
            <h2>delete account</h2>
            <h3>/account/{id}</h3>
            <h4>Access: Basic</h4>
            <p>Returns deleted account</p>
          </div>
        </section>
      </main>
    </div>
  </body>
</html>
